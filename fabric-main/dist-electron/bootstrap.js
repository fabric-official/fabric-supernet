const { app, BrowserWindow } = require("electron"); const path=require("path"); const fs=require("fs"); app.disableHardwareAcceleration(); function create(){ const win=new BrowserWindow({ width:1280,height:800,show:false,backgroundColor:"#101114", icon:path.join(process.cwd(),"build","icon.ico"), webPreferences:{ contextIsolation:true, nodeIntegration:false } }); const file=path.resolve(process.cwd(),"fabric-main","dist","index.html"); if(!fs.existsSync(file)){ console.error("Missing built file", file); app.quit(); return; } win.loadFile(file); win.once("ready-to-show",()=>win.show()); } app.whenReady().then(create); app.on("window-all-closed",()=>{ if(process.platform!=="darwin") app.quit(); });